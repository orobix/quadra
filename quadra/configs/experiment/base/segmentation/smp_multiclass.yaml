# @package _global_

defaults:
  - override /datamodule: base/segmentation_multiclass
  - override /model: smp_multiclass
  - override /optimizer: adam
  - override /scheduler: rop
  - override /transforms: default_resize
  - override /loss: smp_dice_multiclass
  - override /task: segmentation
  - override /backbone: smp
  - override /trainer: lightning_gpu

backbone:
  model:
    num_classes: 2

trainer:
  devices: [0]
  max_epochs: 10
  num_sanity_val_steps: 0

core:
  tag: "run"
  name: "quadra_default"
  upload_artifacts: True

datamodule:
  num_workers: 8
  batch_size: 32
  data_path: ${oc.env:HOME}/shared/benchmark_datasets/segmentation/csm-segmentation-v0
  train_split_file: ${oc.env:HOME}/shared/benchmark_datasets/segmentation/csm-segmentation-v0/train.txt
  val_split_file: ${oc.env:HOME}/shared/benchmark_datasets/segmentation/csm-segmentation-v0/valid.txt
  test_split_file: ${oc.env:HOME}/shared/benchmark_datasets/segmentation/csm-segmentation-v0/test.txt
  idx_to_class: # Contains the mapping of all classes without background
    1: "blackspeck"
    2: "scratch"
